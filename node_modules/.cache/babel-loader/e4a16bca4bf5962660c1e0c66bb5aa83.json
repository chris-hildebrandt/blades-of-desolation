{"ast":null,"code":"import { generateId } from \"@/utils/generateId\";\nimport { getDmgTypeIcon } from \"@/utils/getIcon\";\nimport $ from 'jquery';\n\nclass AnimationsService {\n  shake(id) {\n    let charImgElem = $('#' + id);\n    new Promise(resolve => {\n      charImgElem.addClass('animate__animated animate__headShake');\n\n      function handleAnimationEnd(e) {\n        e.stopPropagation();\n        charImgElem.removeClass('animate__animated animate__headShake');\n        resolve('Animation ended');\n      }\n\n      charImgElem.on('animationend', handleAnimationEnd);\n    });\n  }\n\n  pounce(id) {\n    let charImgElem = $('#' + id);\n    new Promise(resolve => {\n      charImgElem.addClass('animate__animated animate__tada');\n\n      function handleAnimationEnd(e) {\n        e.stopPropagation();\n        charImgElem.removeClass('animate__animated animate__tada');\n        resolve('Animation ended');\n      }\n\n      charImgElem.on('animationend', handleAnimationEnd);\n    });\n  }\n\n  fadeOutUp(id, dmg, operator, dmgType = '') {\n    let elem = $('#' + id);\n    let tempId = generateId();\n    let icon = getDmgTypeIcon(dmgType);\n    elem.append('<h3 id=\"' + tempId + '\" class=\"position-absolute d-flex\">' + operator + dmg + icon + '</h3>');\n    elem = $('#' + tempId);\n    new Promise(resolve => {\n      elem.addClass(operator == '-' ? 'text-danger' : 'text-success');\n      elem.addClass('animate__slower animate__animated animate__fadeOutUp ' + operator);\n\n      function handleAnimationEnd(e) {\n        e.stopPropagation();\n        elem.remove();\n        resolve('Animation ended');\n      }\n\n      elem.on('animationend', handleAnimationEnd);\n    });\n  }\n\n}\n\nexport const animationsService = new AnimationsService();","map":{"version":3,"sources":["C:/Users/dhild/source/mini-projects/blades-of-desolation/src/services/AnimationsService.js"],"names":["generateId","getDmgTypeIcon","$","AnimationsService","shake","id","charImgElem","Promise","resolve","addClass","handleAnimationEnd","e","stopPropagation","removeClass","on","pounce","fadeOutUp","dmg","operator","dmgType","elem","tempId","icon","append","remove","animationsService"],"mappings":"AAAA,SAASA,UAAT,QAA2B,oBAA3B;AACA,SAASC,cAAT,QAA+B,iBAA/B;AACA,OAAOC,CAAP,MAAc,QAAd;;AACA,MAAMC,iBAAN,CAAuB;AACrBC,EAAAA,KAAK,CAACC,EAAD,EAAI;AACP,QAAIC,WAAW,GAAGJ,CAAC,CAAC,MAAIG,EAAL,CAAnB;AACA,QAAIE,OAAJ,CAAaC,OAAD,IAAa;AACvBF,MAAAA,WAAW,CAACG,QAAZ,CAAqB,sCAArB;;AACA,eAASC,kBAAT,CAA4BC,CAA5B,EAA8B;AAC5BA,QAAAA,CAAC,CAACC,eAAF;AACAN,QAAAA,WAAW,CAACO,WAAZ,CAAwB,sCAAxB;AACAL,QAAAA,OAAO,CAAC,iBAAD,CAAP;AACD;;AACDF,MAAAA,WAAW,CAACQ,EAAZ,CAAe,cAAf,EAA+BJ,kBAA/B;AACD,KARD;AASD;;AACDK,EAAAA,MAAM,CAACV,EAAD,EAAI;AACR,QAAIC,WAAW,GAAGJ,CAAC,CAAC,MAAIG,EAAL,CAAnB;AACA,QAAIE,OAAJ,CAAaC,OAAD,IAAa;AACvBF,MAAAA,WAAW,CAACG,QAAZ,CAAqB,iCAArB;;AACA,eAASC,kBAAT,CAA4BC,CAA5B,EAA8B;AAC5BA,QAAAA,CAAC,CAACC,eAAF;AACAN,QAAAA,WAAW,CAACO,WAAZ,CAAwB,iCAAxB;AACAL,QAAAA,OAAO,CAAC,iBAAD,CAAP;AACD;;AACDF,MAAAA,WAAW,CAACQ,EAAZ,CAAe,cAAf,EAA+BJ,kBAA/B;AACD,KARD;AASD;;AACDM,EAAAA,SAAS,CAACX,EAAD,EAAKY,GAAL,EAAUC,QAAV,EAAoBC,OAAO,GAAG,EAA9B,EAAiC;AACxC,QAAIC,IAAI,GAAGlB,CAAC,CAAC,MAAIG,EAAL,CAAZ;AACA,QAAIgB,MAAM,GAAGrB,UAAU,EAAvB;AACA,QAAIsB,IAAI,GAAGrB,cAAc,CAACkB,OAAD,CAAzB;AACAC,IAAAA,IAAI,CAACG,MAAL,CAAY,aAAWF,MAAX,GAAkB,qCAAlB,GAAwDH,QAAxD,GAAiED,GAAjE,GAAqEK,IAArE,GAA0E,OAAtF;AACAF,IAAAA,IAAI,GAAGlB,CAAC,CAAC,MAAImB,MAAL,CAAR;AACA,QAAId,OAAJ,CAAaC,OAAD,IAAa;AACvBY,MAAAA,IAAI,CAACX,QAAL,CAAcS,QAAQ,IAAI,GAAZ,GAAkB,aAAlB,GAAkC,cAAhD;AACAE,MAAAA,IAAI,CAACX,QAAL,CAAc,0DAAwDS,QAAtE;;AACA,eAASR,kBAAT,CAA4BC,CAA5B,EAA8B;AAC5BA,QAAAA,CAAC,CAACC,eAAF;AACAQ,QAAAA,IAAI,CAACI,MAAL;AACAhB,QAAAA,OAAO,CAAC,iBAAD,CAAP;AACD;;AACDY,MAAAA,IAAI,CAACN,EAAL,CAAQ,cAAR,EAAwBJ,kBAAxB;AACD,KATD;AAWD;;AA1CoB;;AA6CvB,OAAO,MAAMe,iBAAiB,GAAG,IAAItB,iBAAJ,EAA1B","sourcesContent":["import { generateId } from \"@/utils/generateId\"\r\nimport { getDmgTypeIcon } from \"@/utils/getIcon\"\r\nimport $ from 'jquery'\r\nclass AnimationsService{\r\n  shake(id){\r\n    let charImgElem = $('#'+id)\r\n    new Promise((resolve) => {\r\n      charImgElem.addClass('animate__animated animate__headShake')\r\n      function handleAnimationEnd(e){\r\n        e.stopPropagation()\r\n        charImgElem.removeClass('animate__animated animate__headShake')\r\n        resolve('Animation ended')\r\n      }\r\n      charImgElem.on('animationend', handleAnimationEnd)\r\n    })\r\n  }\r\n  pounce(id){\r\n    let charImgElem = $('#'+id)\r\n    new Promise((resolve) => {\r\n      charImgElem.addClass('animate__animated animate__tada')\r\n      function handleAnimationEnd(e){\r\n        e.stopPropagation()\r\n        charImgElem.removeClass('animate__animated animate__tada')\r\n        resolve('Animation ended')\r\n      }\r\n      charImgElem.on('animationend', handleAnimationEnd)\r\n    })\r\n  }\r\n  fadeOutUp(id, dmg, operator, dmgType = ''){\r\n    let elem = $('#'+id)\r\n    let tempId = generateId()\r\n    let icon = getDmgTypeIcon(dmgType)\r\n    elem.append('<h3 id=\"'+tempId+'\" class=\"position-absolute d-flex\">'+operator+dmg+icon+'</h3>')\r\n    elem = $('#'+tempId)\r\n    new Promise((resolve) => {\r\n      elem.addClass(operator == '-' ? 'text-danger' : 'text-success')\r\n      elem.addClass('animate__slower animate__animated animate__fadeOutUp '+operator)\r\n      function handleAnimationEnd(e){\r\n        e.stopPropagation()\r\n        elem.remove()\r\n        resolve('Animation ended')\r\n      }\r\n      elem.on('animationend', handleAnimationEnd)\r\n    })\r\n\r\n  }\r\n}\r\n\r\nexport const animationsService = new AnimationsService()"]},"metadata":{},"sourceType":"module"}