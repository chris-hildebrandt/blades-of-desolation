{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, withModifiers as _withModifiers, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeStyle as _normalizeStyle } from \"vue\";\nconst _hoisted_1 = {\n  class: \"font-weight-bold text-black label w-title-auto m-auto\"\n};\nconst _hoisted_2 = {\n  class: \"row justify-content-center\"\n};\nconst _hoisted_3 = {\n  class: \"col-10 col-md-8\"\n};\nconst _hoisted_4 = {\n  class: \"form-group mt-3\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"label px-2\"\n}, \"Choose a Class\", -1);\n\nconst _hoisted_6 = {\n  id: \"classType\",\n  class: \"scrollable row\"\n};\nconst _hoisted_7 = [\"value\", \"onClick\", \"title\", \"innerHTML\"];\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"label px-2 mt-2\"\n}, \"Choose a Race\", -1);\n\nconst _hoisted_9 = {\n  id: \"race\",\n  class: \"scrollable row\"\n};\nconst _hoisted_10 = [\"value\", \"onClick\", \"title\", \"innerHTML\"];\nconst _hoisted_11 = {\n  id: \"imgSelect\",\n  class: \"scrollable row mt-3\"\n};\nconst _hoisted_12 = [\"value\", \"onClick\", \"src\", \"alt\"];\n\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-warning btn-block mt-2\",\n  type: \"submit\",\n  title: \"create\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-torah\"\n})], -1);\n\nconst _hoisted_14 = {\n  key: 1,\n  class: \"row\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_CombatCharacter = _resolveComponent(\"CombatCharacter\");\n\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: \"container-fluid bg-img\",\n    style: _normalizeStyle('background-image: url(' + _ctx.bgImg + ')')\n  }, [!_ctx.cheated ? (_openBlock(), _createElementBlock(\"i\", {\n    key: 0,\n    class: \"fal fa-alicorn position-absolute left text-dark\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.cheat && $options.cheat(...args))\n  })) : _createCommentVNode(\"\", true), _createElementVNode(\"h5\", _hoisted_1, _toDisplayString(_ctx.characterCount < 6 ? \"Create Your Character\" : \"Your Party\"), 1), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_ctx.characterCount < 6 ? (_openBlock(), _createElementBlock(\"form\", {\n    key: 0,\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.createCharacter && $options.createCharacter(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"name\",\n    placeholder: \"Name\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.name = $event)\n  }, null, 512), [[_vModelText, _ctx.name]])]), _hoisted_5, _createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.classList, classType => {\n    return _openBlock(), _createElementBlock(\"span\", {\n      class: _normalizeClass([\"col click d-flex justify-content-center p-3\", _ctx.selectedClassType == classType.name ? 'border border-warning ' : '']),\n      value: classType.name,\n      key: classType.name,\n      onClick: $event => $options.selectClassType(classType.name),\n      title: classType.name,\n      innerHTML: classType.icon\n    }, null, 10, _hoisted_7);\n  }), 128))]), _hoisted_8, _createElementVNode(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.raceList, race => {\n    return _openBlock(), _createElementBlock(\"span\", {\n      class: _normalizeClass([\"col click d-flex justify-content-center p-3\", _ctx.selectedRace == race.name ? 'border border-warning ' : '']),\n      value: race.name,\n      key: race.name,\n      onClick: $event => $options.selectRace(race.name),\n      title: race.name,\n      innerHTML: race.icon\n    }, null, 10, _hoisted_10);\n  }), 128))]), _createElementVNode(\"div\", _hoisted_11, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.imgs, img => {\n    return _openBlock(), _createElementBlock(\"img\", {\n      class: _normalizeClass([\"img-fluid col-lg-3 col-md-6 col-12 click\", _ctx.selectedImg == img ? 'border border-warning ' : '']),\n      value: img,\n      key: img,\n      onClick: $event => $options.selectImg(img),\n      src: img,\n      alt: img\n    }, null, 10, _hoisted_12);\n  }), 128))]), _hoisted_13], 32)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.characters, character => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"col-4 click\",\n      key: character.id,\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#characterDetailsModal\",\n      title: \"stats\"\n    }, [_createVNode(_component_CombatCharacter, {\n      character: character\n    }, null, 8, [\"character\"])]);\n  }), 128))]))])])], 4);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","id","type","title","_createElementBlock","style","_ctx","onClick","$options","_toDisplayString","onSubmit","placeholder","$event","_hoisted_5","_Fragment","_renderList","classType","name","value","key","innerHTML","icon","_hoisted_8","race","img","src","alt","_hoisted_13","character","_createVNode","_component_CombatCharacter"],"sourceRoot":"","sources":["C:\\Users\\dhild\\source\\mini-projects\\blades-of-desolation\\src\\views\\CharacterForm.vue"],"sourcesContent":["<template>\r\n<div class=\"container-fluid bg-img\" :style=\"'background-image: url('+bgImg+')'\">\r\n  <i class=\"fal fa-alicorn position-absolute left text-dark\" @click=\"cheat\" v-if=\"!cheated\"></i>\r\n  <h5 class=\"font-weight-bold text-black label w-title-auto m-auto\">{{ characterCount < 6 ? \"Create Your Character\" : \"Your Party\"}}</h5>\r\n  <div class=\"row justify-content-center\">\r\n    <div class=\"col-10 col-md-8\">\r\n      <form @submit.prevent=\"createCharacter\" v-if=\"characterCount < 6\">\r\n        <div class=\"form-group mt-3\">\r\n          <input type=\"text\" class=\"form-control\" id=\"name\" placeholder=\"Name\" v-model=\"name\">\r\n        </div>\r\n         <label class=\"label px-2\">Choose a Class</label>\r\n        <div id=\"classType\" class=\"scrollable row\">\r\n          <span class=\"col click d-flex justify-content-center p-3\" :class=\"selectedClassType == classType.name ? 'border border-warning ' : ''\" :value=\"classType.name\" v-for=\"classType in classList\" :key=\"classType.name\" @click=\"selectClassType(classType.name)\" :title=\"classType.name\" v-html=\"classType.icon\"></span>\r\n        </div>\r\n         <label class=\"label px-2 mt-2\">Choose a Race</label>\r\n        <div id=\"race\" class=\"scrollable row\">\r\n          <span class=\"col click d-flex justify-content-center p-3\" :class=\"selectedRace == race.name ? 'border border-warning ' : ''\" :value=\"race.name\" v-for=\"race in raceList\" :key=\"race.name\" @click=\"selectRace(race.name)\" :title=\"race.name\" v-html=\"race.icon\"></span>\r\n        </div>\r\n        <div id=\"imgSelect\" class=\"scrollable row mt-3\">\r\n          <img class=\"img-fluid col-lg-3 col-md-6 col-12 click \" :class=\"selectedImg == img ? 'border border-warning ' : ''\" :value=\"img\" v-for=\"img in imgs\" :key=\"img\" @click=\"selectImg(img)\" :src=\"img\" :alt=\"img\" />\r\n        </div>\r\n        <button class=\"btn btn-warning btn-block mt-2\" type=\"submit\" title=\"create\"><i class=\"fas fa-torah\"></i></button>\r\n      </form>\r\n      <div class=\"row\" v-else>\r\n        <div class=\"col-4 click\" v-for=\"character in characters\" :key=\"character.id\" data-toggle=\"modal\" data-target=\"#characterDetailsModal\" title=\"stats\">\r\n          <CombatCharacter :character=\"character\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from \"@vue/reactivity\"\r\nimport $store from '@/store/index.js'\r\nimport { characterService } from \"@/services/CharacterService\"\r\nimport { computed, onMounted } from \"@vue/runtime-core\"\r\nimport CombatCharacter from \"@/components/CombatCharacter.vue\"\r\nimport { useToast } from \"vue-toastification\"\r\nimport Notify from \"@/utils/Notify\"\r\nimport $ from 'jquery'\r\nimport { Item } from \"@/models/Item\"\r\nimport { setItem, getItem } from \"../utils/tempLocalStorage.js\"\r\n\r\nexport default {\r\n  components: { CombatCharacter },\r\n  name: 'CharacterForm',\r\n  setup(){\r\n    onMounted(()=>{\r\n      state.cheated = getItem('cheated')\r\n    })\r\n    const state = reactive({\r\n      classList: [{name: 'Barbarian', icon: '<i class=\"fal fa-axe-battle icon-fluid\"></i>'}, {name: 'Bard', icon: '<i class=\"fal fa-mandolin icon-fluid\"></i>'}, {name: 'Cleric', icon: '<i class=\"far fa-plus-octagon icon-fluid\"></i>'}, {name: 'Fighter', icon: '<i class=\"fal fa-swords icon-fluid\"></i>'}, {name: 'Monk', icon: '<i class=\"fal fa-fist-raised icon-fluid\"></i>'}, {name: 'Paladin', icon: '<i class=\"far fa-helmet-battle icon-fluid\"></i>'}, {name: 'Ranger', icon: '<i class=\"far fa-bow-arrow icon-fluid\"></i>'}, {name: 'Rogue', icon: '<i class=\"far fa-dagger icon-fluid\"></i>'}, {name: 'Warlock', icon: '<i class=\"fas fa-skull icon-fluid\"></i>'}, {name: 'Wizard', icon: '<i class=\"fal fa-hat-wizard icon-fluid\"></i>'}],\r\n      raceList: [{name: 'dragonborn', icon: '<i class=\"fas fa-dragon icon-fluid\"></i>'}, {name: 'dwarf', icon: '<i class=\"fas fa-hammer-war icon-fluid\"></i>'}, {name: 'elf', icon: '<i class=\"fas fa-leaf icon-fluid\"></i>'}, {name: 'halfling', icon: '<i class=\"fas fa-child icon-fluid\"></i>'}, {name: 'human', icon: '<i class=\"fas fa-user-alt icon-fluid\"></i>'}],\r\n      name: '',\r\n      selectedClassType: '',\r\n      selectedRace: '',\r\n      selectedImg: '',\r\n      imgs: computed(() => $store.state.characterImgList),\r\n      characterCount: computed(()=> $store.state.player.characters.length),\r\n      characters: computed(()=>$store.state.player.characters),\r\n      selectedCharacter: '',\r\n      bgImg: computed(()=> $store.state.locationImgList.find(l => l.includes('create-bg'))),\r\n      cheated: false\r\n    })\r\n    return state\r\n  },\r\n  methods: {\r\n    createCharacter(){\r\n      const toast = useToast()\r\n      let charData = {name: this.name, classType: this.selectedClassType.toLowerCase(), race: this.selectedRace, img: this.selectedImg, actions: 6, dodge: 0, hp: 5, luck: 0, strength: 0, magic: 0, thorns: 0, lifeSteal: 0, physicalResistance: 0, magicResistance: 0}\r\n      if($store.state.player.characters.find(c => c.name == this.name)){\r\n        toast.warning('Too confusing to have two members with the same name, lets give you a nickname...', {timeout: 5000})\r\n        this.name = ''\r\n        $('#name').focus()\r\n        return\r\n      }\r\n      characterService.createCharacter(charData)\r\n      toast.success(charData.name+' has joined your party!')\r\n      this.name = ''\r\n      this.classType = ''\r\n      this.race = ''\r\n      this.selectedImg = ''\r\n    },\r\n    selectImg(img){\r\n        this.selectedImg = img\r\n    },\r\n    selectClassType(classType){\r\n      this.selectedClassType = classType\r\n    },\r\n    selectCharacter(character){\r\n      this.selectedCharacter = character\r\n    },\r\n    selectRace(race){\r\n      this.selectedRace = race\r\n    },\r\n    async cheat(){\r\n      let cheat = await Notify.cheat()\r\n      if(cheat == 'easy'){\r\n        $store.state.player.options.difficulty = cheat\r\n      }\r\n      if(this.cheated){return}\r\n      const toast = useToast()\r\n      let item = $store.state.items.find(i => i.name == cheat)\r\n      if(!item){return}\r\n      $store.state.player.items.push(new Item(item))\r\n      $store.state.player.gold -= item.price\r\n      toast.success('You got a '+item.name+'! cheater')\r\n      setItem('cheated', true, 1000*60*60*24)\r\n      this.cheated = getItem('cheated')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.scrollable{\r\n  max-height: 56vh;\r\n  overflow-y: auto;\r\n  backdrop-filter: brightness(0.5);\r\n}\r\n.text-black{\r\n  color: #000;\r\n}\r\n.left{\r\n  left: 97vw\r\n}\r\n.label{\r\n  backdrop-filter: brightness(.5);\r\n}\r\n.icon-fluid{\r\n  font-size: 6vh;\r\n}\r\n@media screen and (min-width: 992px) {\r\n  .w-title-auto{\r\n    width: 25vw;\r\n}\r\n}\r\n@media screen and (max-width: 992px) {\r\n  .w-title-auto{\r\n    width: 90vw;\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}