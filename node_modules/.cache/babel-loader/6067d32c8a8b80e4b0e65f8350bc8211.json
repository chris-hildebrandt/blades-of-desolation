{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  class: \"d-flex dead\",\n  title: \"dead\"\n};\nconst _hoisted_3 = [\"id\", \"src\"];\nconst _hoisted_4 = {\n  key: 1\n};\nconst _hoisted_5 = [\"id\"];\nconst _hoisted_6 = [\"id\", \"src\"];\nconst _hoisted_7 = {\n  class: \"d-flex\"\n};\nconst _hoisted_8 = {\n  class: \"border rounded-circle text-light h-25 w-25\",\n  title: \"Strength\"\n};\nconst _hoisted_9 = {\n  class: \"border rounded-circle text-light h-25 w-25\",\n  title: \"Actions\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: \"border rounded-circle text-light h-25 w-25\",\n  title: \"Magic\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_HpBar = _resolveComponent(\"HpBar\");\n\n  return $props.character.hp < 0.1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"strong\", _hoisted_2, _toDisplayString($props.character.name), 1), _createElementVNode(\"img\", {\n    id: 'charImg' + $props.character.id,\n    class: \"img-fluid w-75 events-none\",\n    src: _ctx.deadImg,\n    onClick: _cache[0] || (_cache[0] = $event => $options.selectCharacter($props.character))\n  }, null, 8, _hoisted_3)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode(_component_HpBar, {\n    hp: $props.character.hp,\n    baseHp: $props.character.baseHp,\n    selected: _ctx.selected?.id == $props.character.id\n  }, null, 8, [\"hp\", \"baseHp\", \"selected\"]), _createElementVNode(\"div\", {\n    class: \"position-absolute hit selectable\",\n    id: 'hit' + $props.character.id\n  }, null, 8, _hoisted_5), _createElementVNode(\"strong\", {\n    class: _normalizeClass([\"d-flex text-light\", $props.character.actions < 1 ? 'text-danger' : ''])\n  }, _toDisplayString($props.character.name), 3), _createElementVNode(\"div\", null, [_createElementVNode(\"img\", {\n    id: 'charImg' + $props.character.id,\n    class: _normalizeClass([$options.dynamicClasses($props.character, _ctx.selected), \"img-fluid w-75 click\"]),\n    src: $props.character.img,\n    onClick: _cache[1] || (_cache[1] = $event => $options.selectCharacter($props.character))\n  }, null, 10, _hoisted_6)]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"p\", _hoisted_8, _toDisplayString($props.character.strength), 1), _createElementVNode(\"p\", _hoisted_9, _toDisplayString($props.character.actions), 1), $props.character.magic ? (_openBlock(), _createElementBlock(\"p\", _hoisted_10, _toDisplayString($props.character.magic), 1)) : _createCommentVNode(\"\", true)])]));\n}","map":{"version":3,"mappings":";;;;;AAEYA,OAAK,EAAC;AAAcC,OAAK,EAAC;;;;;;;;;AAY7BD,OAAK,EAAC;;;AACNA,OAAK,EAAC;AAA6CC,OAAK,EAAC;;;AAGzDD,OAAK,EAAC;AAA6CC,OAAK,EAAC;;;;AAGzDD,OAAK,EAAC;AAA6CC,OAAK,EAAC;;;;;SApBrDC,iBAAUC,EAAV,GAAY,qBAAvBC,oBAGM,KAHN,EAGMC,UAHN,EAGM,CAFJC,oBAAoE,QAApE,cAAoEC,iBAAzBL,iBAAUM,IAAe,CAApE,EAAyD,CAAzD,CAEI,EADHF,oBAAwH,KAAxH,EAAwH;AAAlHG,MAAE,cAAYP,iBAAUO,EAA0F;AAAtFT,SAAK,EAAC,4BAAgF;AAAlDU,OAAG,EAAEC,YAA6C;AAAnCC,WAAK,sCAAEC,yBAAgBX,gBAAhB,CAAF;AAA8B,GAAxH,sBACG,CAHN,oBAIAE,oBAoBM,KApBN,EAoBMU,UApBN,EAoBM,CAnBFC,aAAgGC,gBAAhG,EAAgG;AAAxFb,MAAE,EAAED,iBAAUC,EAA0E;AAArEc,UAAM,EAAEf,iBAAUe,MAAmD;AAA1CC,YAAQ,EAAEP,eAAUF,EAAV,IAAgBP,iBAAUO;AAAM,GAAhG,wCAmBE,EAlBJH,oBAA6E,KAA7E,EAA6E;AAAxEN,SAAK,EAAC,kCAAkE;AAA9BS,MAAE,UAAQP,iBAAUO;AAAU,GAA7E,sBAkBI,EAjBJH,oBAES,QAFT,EAES;AAFDN,SAAK,mBAAC,mBAAD,EAA6BE,iBAAUiB,OAAV,GAAiB,CAAjB,GAAiB,aAAjB,GAAiB,EAA9C;AAEJ,GAFT,mBACIjB,iBAAUM,KADd,EACkB,CADlB,CAiBI,EAdJF,oBAEM,KAFN,EAEM,IAFN,EAEM,CADJA,oBAAsK,KAAtK,EAAsK;AAAhKG,MAAE,cAAYP,iBAAUO,EAAwI;AAAnIT,SAAK,mBAAEa,wBAAeX,gBAAf,EAA0BS,aAA1B,CAAF,EAA6C,sBAA7C,EAA8H;AAAxDD,OAAG,EAAER,iBAAUkB,GAAyC;AAAnCR,WAAK,sCAAEC,yBAAgBX,gBAAhB,CAAF;AAA8B,GAAtK,uBACI,CAFN,CAcI,EAXJI,oBAUM,KAVN,cAUM,CATJA,oBAEI,GAFJ,cAEIC,iBADAL,iBAAUmB,QACV,CAFJ,EACsB,CADtB,CASI,EANJf,oBAEI,GAFJ,cAEIC,iBADAL,iBAAUiB,OACV,CAFJ,EACqB,CADrB,CAMI,EAHsEjB,iBAAUoB,uBAApFlB,oBAEI,GAFJ,eAEIG,iBADAL,iBAAUoB,KACV,CAFJ,EACmB,CADnB,kCAGI,CAVN,CAWI,CApBN","names":["class","title","$props","hp","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","name","id","src","_ctx","onClick","$options","_hoisted_4","_createVNode","_component_HpBar","baseHp","selected","actions","img","strength","magic"],"sourceRoot":"","sources":["C:\\Users\\dhild\\source\\mini-projects\\blades-of-desolation\\src\\components\\CombatCharacter.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"character.hp < 0.1\">\r\n    <strong class=\"d-flex dead\" title=\"dead\">{{character.name}}</strong>\r\n     <img :id=\"'charImg'+character.id\" class=\"img-fluid w-75 events-none\" :src=\"deadImg\" @click=\"selectCharacter(character)\">\r\n  </div>\r\n  <div v-else>\r\n      <HpBar :hp=\"character.hp\" :baseHp=\"character.baseHp\" :selected=\"selected?.id == character.id\" />\r\n    <div class=\"position-absolute hit selectable\" :id=\"'hit'+character.id\"></div>\r\n    <strong class=\"d-flex text-light\" :class=\"character.actions < 1 ? 'text-danger' : ''\">\r\n      {{character.name}}\r\n    </strong>\r\n    <div>\r\n      <img :id=\"'charImg'+character.id\" :class=\"dynamicClasses(character, selected)\" class=\"img-fluid w-75 click \" :src=\"character.img\" @click=\"selectCharacter(character)\">\r\n    </div>\r\n    <div class=\"d-flex\">\r\n      <p class=\"border rounded-circle text-light h-25 w-25\" title=\"Strength\">\r\n        {{character.strength}}\r\n      </p>\r\n      <p class=\"border rounded-circle text-light h-25 w-25\" title=\"Actions\">\r\n        {{character.actions}}\r\n      </p>\r\n      <p class=\"border rounded-circle text-light h-25 w-25\" title=\"Magic\" v-if=\"character.magic\">\r\n        {{character.magic}}\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from \"@vue/reactivity\"\r\nimport { computed } from \"@vue/runtime-core\"\r\nimport $store from '@/store/index.js'\r\nimport HpBar from \"./HpBar.vue\"\r\nexport default {\r\n  components: { HpBar },\r\n  name: 'CombatCharacter',\r\n  props: {\r\n    character: {type: Object}\r\n  },\r\n  setup(props){\r\n    const state = reactive({\r\n      selected: computed(() => $store.state.selected),\r\n      hp: computed(() => props.character.hp),\r\n      deadImg: computed(()=>$store.state.monsterImgList.find(m => m.includes('dead'))),\r\n    })\r\n    return state\r\n  },\r\n  methods: {\r\n    selectCharacter(character){\r\n      if(character.actions > 0){\r\n        this.$store.commit('selectCharacter', character)\r\n      }\r\n    },\r\n    dynamicClasses(character, selected){\r\n      let classes = ''\r\n      classes += character.statusEffects.map(e => e.negative ? e.name : '').join(' ') \r\n      classes += selected?.id == character.id ? ' animate__animated animate__slow animate__pulse animate__infinite' : ''\r\n      return classes\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.selected{\r\n  border: green;\r\n}\r\n.exhausted{\r\n  color: yellow\r\n}\r\n.dead{\r\n  color: red;\r\n  cursor: not-allowed;\r\n}\r\nstrong{\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  width: auto;\r\n  display: block;\r\n  overflow: hidden\r\n}\r\n.hit{\r\n  left: 75%\r\n}\r\n.selectable{\r\n  filter: drop-shadow(0px 0px 15px gold);\r\n}\r\n.events-none{\r\n  pointer-events: none;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}