{"ast":null,"code":"import { reactive } from '@vue/reactivity';\nimport { computed } from \"@vue/runtime-core\";\nimport $store from \"@/store/index.js\";\nimport router from \"@/router\";\nimport { useToast } from \"vue-toastification\";\nexport default {\n  name: 'ShopNavBar',\n\n  setup() {\n    const state = reactive({\n      healPartyCost: computed(() => Math.round($store.state.player.characters.map(c => c.hp > 0 ? c.baseHp - c.hp : 0).reduce((a, b) => a + b))),\n      restorePartyMagicCost: computed(() => Math.round($store.state.player.characters.map(c => c.baseMagic > 0 ? c.baseMagic - c.magic : 0).reduce((a, b) => a + b) * 3)),\n      revive: computed(() => $store.state.player.characters.filter(c => c.hp < 1)),\n      playersGold: computed(() => $store.state.player.gold),\n      location: computed(() => $store.state.location)\n    });\n    return {\n      state\n    };\n  },\n\n  methods: {\n    reviveCharacter(id) {\n      let deadCharacter = this.state.revive.find(dc => dc.id = id);\n      let cost = (deadCharacter.hp - deadCharacter.baseHp) * -10;\n      this.$store.commit('reducePlayerGold', cost);\n      this.$store.state.player.characters.forEach(c => c.id == id ? c.hp = c.baseHp : '');\n    },\n\n    healParty() {\n      this.$store.commit('reducePlayerGold', this.state.healPartyCost);\n      this.$store.state.player.characters.forEach(c => c.hp < c.baseHp && c.hp > 0 ? c.hp = c.baseHp : '');\n    },\n\n    RestorePartyMagic() {\n      this.$store.commit('reducePlayerGold', this.state.restorePartyMagicCost);\n      this.$store.state.player.characters.forEach(c => c.magic < c.baseMagic ? c.magic = c.baseMagic : '');\n    },\n\n    rest() {\n      const toast = useToast();\n      $store.state.player.characters.forEach(c => {\n        c.hp = c.baseHp;\n        c.magic = c.baseMagic;\n        c.abilities.forEach(a => a.uses = a.baseUses);\n        c.actions = c.baseActions;\n        c.statusEffects = c.statusEffects.filter(se => !se.negative);\n      });\n      toast.success('Your party is Fully Rested!');\n    },\n\n    adventureOn() {\n      router.push({\n        name: 'AreaLocation'\n      });\n    },\n\n    changeShop(shop) {\n      $store.state.shop = shop;\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["reactive","computed","$store","router","useToast","name","setup","state","healPartyCost","Math","round","player","characters","map","c","hp","baseHp","reduce","a","b","restorePartyMagicCost","baseMagic","magic","revive","filter","playersGold","gold","location","methods","reviveCharacter","id","deadCharacter","find","dc","cost","commit","forEach","healParty","RestorePartyMagic","rest","toast","abilities","uses","baseUses","actions","baseActions","statusEffects","se","negative","success","adventureOn","push","changeShop","shop"],"sourceRoot":"","sources":["C:\\Users\\dhild\\source\\mini-projects\\blades-of-desolation\\src\\components\\ShopNavBar.vue"],"sourcesContent":["<template>\r\n  <nav class=\"navbar navbar-dark bg-darker sticky-top\">\r\n    <div class=\"d-flex justify-content-between\">\r\n      <a class=\"btn btn-sm btn-outline-secondary\" @click=\"changeShop('sell')\">Sell</a>\r\n      <a class=\"btn btn-sm btn-outline-secondary\" @click=\"changeShop('general')\">Items</a>\r\n      <a class=\"btn btn-sm btn-outline-secondary\" @click=\"changeShop('magic')\">Magic</a>\r\n    </div>\r\n    <div class=\"mr-3\">\r\n      <button class=\"btn btn-warning mr-2\" @click=\"adventureOn\">Adventure On!</button>\r\n      <button class=\"btn btn-primary\" @click=\"rest()\" :disabled=\"state.playersGold < 50*state.location+50\">Rest ({{50*state.location+50}} <i class=\"fad fa-coins\"></i>)</button>\r\n      <div v-for=\"character in state.revive\" :key=\"character.id\">\r\n        <button class=\"btn btn-secondary m-3\" @click=\"reviveCharacter(character.id)\" :disabled=\"state.playersGold <\r\n          character.cost\">Revive {{character.name}} ({{(character.hp - character.baseHp)*-10}} <i class=\"fad fa-coins\"></i>)</button>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from '@vue/reactivity'\r\nimport { computed } from \"@vue/runtime-core\"\r\nimport $store from \"@/store/index.js\"\r\nimport router from \"@/router\"\r\nimport { useToast } from \"vue-toastification\"\r\n\r\nexport default {\r\n  name: 'ShopNavBar',\r\n  setup() {\r\n    const state = reactive({\r\n      healPartyCost: computed(()=> Math.round($store.state.player.characters.map(c => c.hp > 0 ? c.baseHp - c.hp : 0).reduce((a, b) => a+b))),\r\n      restorePartyMagicCost: computed(()=> Math.round($store.state.player.characters.map(c => c.baseMagic > 0 ? c.baseMagic - c.magic : 0).reduce((a, b) => a+b)*3)),\r\n      revive: computed(()=> $store.state.player.characters.filter(c => c.hp < 1)),\r\n      playersGold: computed(()=> $store.state.player.gold),\r\n      location: computed(()=> $store.state.location)\r\n    })\r\n    return {\r\n      state\r\n    }\r\n  },\r\n  methods:{\r\n    reviveCharacter(id){\r\n      let deadCharacter = this.state.revive.find(dc => dc.id = id)\r\n      let cost = (deadCharacter.hp - deadCharacter.baseHp)*-10\r\n      this.$store.commit('reducePlayerGold', cost)\r\n      this.$store.state.player.characters.forEach(c => c.id == id ? c.hp = c.baseHp : '')\r\n    },\r\n    healParty(){\r\n      this.$store.commit('reducePlayerGold', this.state.healPartyCost)\r\n      this.$store.state.player.characters.forEach(c => c.hp < c.baseHp && c.hp > 0 ? c.hp = c.baseHp : '')\r\n    },\r\n    RestorePartyMagic(){\r\n      this.$store.commit('reducePlayerGold', this.state.restorePartyMagicCost)\r\n      this.$store.state.player.characters.forEach(c => c.magic < c.baseMagic ? c.magic = c.baseMagic : '')\r\n    },\r\n    rest(){\r\n      const toast = useToast()\r\n      $store.state.player.characters.forEach(c => {\r\n        c.hp = c.baseHp\r\n        c.magic = c.baseMagic\r\n        c.abilities.forEach(a => a.uses = a.baseUses)\r\n        c.actions = c.baseActions\r\n        c.statusEffects = c.statusEffects.filter(se => !se.negative)\r\n      })\r\n      toast.success('Your party is Fully Rested!')\r\n    },\r\n    adventureOn(){\r\n      router.push({name: 'AreaLocation'})\r\n    },\r\n    changeShop(shop){\r\n      $store.state.shop = shop\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.bg-darker{\r\n  background-color: rgb(15, 15, 15);\r\n}\r\n@media screen and (min-width: 992px) {\r\n  .navbar{\r\n    position: fixed;\r\n    width: 80vw;\r\n    left: 20vw;\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}