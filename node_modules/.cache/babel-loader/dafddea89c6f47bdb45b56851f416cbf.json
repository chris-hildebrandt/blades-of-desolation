{"ast":null,"code":"export function setItem(key, value, ttl) {\n  const now = new Date();\n  const item = {\n    value: value,\n    expiry: now.getTime() + ttl\n  };\n  window.localStorage.setItem(key, JSON.stringify(item));\n}\nexport function getItem(key) {\n  const itemStr = window.localStorage.getItem(key);\n\n  if (!itemStr) {\n    return null;\n  }\n\n  const item = JSON.parse(itemStr);\n  const now = new Date();\n\n  if (now.getTime() > item.expiry) {\n    window.localStorage.removeItem(key);\n    return null;\n  }\n\n  return item.value;\n}","map":{"version":3,"sources":["C:/Users/dhild/source/mini-projects/blades-of-desolation/src/utils/tempLocalStorage.js"],"names":["setItem","key","value","ttl","now","Date","item","expiry","getTime","window","localStorage","JSON","stringify","getItem","itemStr","parse","removeItem"],"mappings":"AAAA,OAAO,SAASA,OAAT,CAAiBC,GAAjB,EAAsBC,KAAtB,EAA6BC,GAA7B,EAAkC;AACxC,QAAMC,GAAG,GAAG,IAAIC,IAAJ,EAAZ;AACA,QAAMC,IAAI,GAAG;AACZJ,IAAAA,KAAK,EAAEA,KADK;AAEZK,IAAAA,MAAM,EAAEH,GAAG,CAACI,OAAJ,KAAgBL;AAFZ,GAAb;AAIAM,EAAAA,MAAM,CAACC,YAAP,CAAoBV,OAApB,CAA4BC,GAA5B,EAAiCU,IAAI,CAACC,SAAL,CAAeN,IAAf,CAAjC;AACA;AACD,OAAO,SAASO,OAAT,CAAiBZ,GAAjB,EAAsB;AAC5B,QAAMa,OAAO,GAAGL,MAAM,CAACC,YAAP,CAAoBG,OAApB,CAA4BZ,GAA5B,CAAhB;;AACA,MAAI,CAACa,OAAL,EAAc;AACb,WAAO,IAAP;AACA;;AACD,QAAMR,IAAI,GAAGK,IAAI,CAACI,KAAL,CAAWD,OAAX,CAAb;AACA,QAAMV,GAAG,GAAG,IAAIC,IAAJ,EAAZ;;AACA,MAAID,GAAG,CAACI,OAAJ,KAAgBF,IAAI,CAACC,MAAzB,EAAiC;AAChCE,IAAAA,MAAM,CAACC,YAAP,CAAoBM,UAApB,CAA+Bf,GAA/B;AACA,WAAO,IAAP;AACA;;AACD,SAAOK,IAAI,CAACJ,KAAZ;AACA","sourcesContent":["export function setItem(key, value, ttl) {\r\n\tconst now = new Date()\r\n\tconst item = {\r\n\t\tvalue: value,\r\n\t\texpiry: now.getTime() + ttl,\r\n\t}\r\n\twindow.localStorage.setItem(key, JSON.stringify(item))\r\n}\r\nexport function getItem(key) {\r\n\tconst itemStr = window.localStorage.getItem(key)\r\n\tif (!itemStr) {\r\n\t\treturn null\r\n\t}\r\n\tconst item = JSON.parse(itemStr)\r\n\tconst now = new Date()\r\n\tif (now.getTime() > item.expiry) {\r\n\t\twindow.localStorage.removeItem(key)\r\n\t\treturn null\r\n\t}\r\n\treturn item.value\r\n}"]},"metadata":{},"sourceType":"module"}