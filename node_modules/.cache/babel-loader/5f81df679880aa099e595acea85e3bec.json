{"ast":null,"code":"/* istanbul ignore file */\nimport * as dom from './dom/index.js';\nimport { swalClasses } from '../utils/classes.js'; // Fix iOS scrolling http://stackoverflow.com/q/39626302\n\nexport const iOSfix = () => {\n  const iOS = // @ts-ignore\n  /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream || navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1;\n\n  if (iOS && !dom.hasClass(document.body, swalClasses.iosfix)) {\n    const offset = document.body.scrollTop;\n    document.body.style.top = `${offset * -1}px`;\n    dom.addClass(document.body, swalClasses.iosfix);\n    lockBodyScroll();\n    addBottomPaddingForTallPopups();\n  }\n};\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1948\n */\n\nconst addBottomPaddingForTallPopups = () => {\n  const ua = navigator.userAgent;\n  const iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i);\n  const webkit = !!ua.match(/WebKit/i);\n  const iOSSafari = iOS && webkit && !ua.match(/CriOS/i);\n\n  if (iOSSafari) {\n    const bottomPanelHeight = 44;\n\n    if (dom.getPopup().scrollHeight > window.innerHeight - bottomPanelHeight) {\n      dom.getContainer().style.paddingBottom = `${bottomPanelHeight}px`;\n    }\n  }\n};\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1246\n */\n\n\nconst lockBodyScroll = () => {\n  const container = dom.getContainer();\n  let preventTouchMove;\n\n  container.ontouchstart = e => {\n    preventTouchMove = shouldPreventTouchMove(e);\n  };\n\n  container.ontouchmove = e => {\n    if (preventTouchMove) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n};\n\nconst shouldPreventTouchMove = event => {\n  const target = event.target;\n  const container = dom.getContainer();\n\n  if (isStylus(event) || isZoom(event)) {\n    return false;\n  }\n\n  if (target === container) {\n    return true;\n  }\n\n  if (!dom.isScrollable(container) && target.tagName !== 'INPUT' && // #1603\n  target.tagName !== 'TEXTAREA' && // #2266\n  !(dom.isScrollable(dom.getHtmlContainer()) && // #1944\n  dom.getHtmlContainer().contains(target))) {\n    return true;\n  }\n\n  return false;\n};\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1786\n *\n * @param {*} event\n * @returns {boolean}\n */\n\n\nconst isStylus = event => {\n  return event.touches && event.touches.length && event.touches[0].touchType === 'stylus';\n};\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1891\n *\n * @param {TouchEvent} event\n * @returns {boolean}\n */\n\n\nconst isZoom = event => {\n  return event.touches && event.touches.length > 1;\n};\n\nexport const undoIOSfix = () => {\n  if (dom.hasClass(document.body, swalClasses.iosfix)) {\n    const offset = parseInt(document.body.style.top, 10);\n    dom.removeClass(document.body, swalClasses.iosfix);\n    document.body.style.top = '';\n    document.body.scrollTop = offset * -1;\n  }\n};","map":{"version":3,"sources":["C:/Users/dhild/source/mini-projects/blades-of-desolation/node_modules/sweetalert2/src/utils/iosFix.js"],"names":["dom","swalClasses","iOSfix","iOS","test","navigator","userAgent","window","MSStream","platform","maxTouchPoints","hasClass","document","body","iosfix","offset","scrollTop","style","top","addClass","lockBodyScroll","addBottomPaddingForTallPopups","ua","match","webkit","iOSSafari","bottomPanelHeight","getPopup","scrollHeight","innerHeight","getContainer","paddingBottom","container","preventTouchMove","ontouchstart","e","shouldPreventTouchMove","ontouchmove","preventDefault","stopPropagation","event","target","isStylus","isZoom","isScrollable","tagName","getHtmlContainer","contains","touches","length","touchType","undoIOSfix","parseInt","removeClass"],"mappings":"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","sourcesContent":["/* istanbul ignore file */\nimport * as dom from './dom/index.js'\nimport { swalClasses } from '../utils/classes.js'\n\n// Fix iOS scrolling http://stackoverflow.com/q/39626302\n\nexport const iOSfix = () => {\n  const iOS =\n    // @ts-ignore\n    (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) ||\n    (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1)\n  if (iOS && !dom.hasClass(document.body, swalClasses.iosfix)) {\n    const offset = document.body.scrollTop\n    document.body.style.top = `${offset * -1}px`\n    dom.addClass(document.body, swalClasses.iosfix)\n    lockBodyScroll()\n    addBottomPaddingForTallPopups()\n  }\n}\n\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1948\n */\nconst addBottomPaddingForTallPopups = () => {\n  const ua = navigator.userAgent\n  const iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i)\n  const webkit = !!ua.match(/WebKit/i)\n  const iOSSafari = iOS && webkit && !ua.match(/CriOS/i)\n  if (iOSSafari) {\n    const bottomPanelHeight = 44\n    if (dom.getPopup().scrollHeight > window.innerHeight - bottomPanelHeight) {\n      dom.getContainer().style.paddingBottom = `${bottomPanelHeight}px`\n    }\n  }\n}\n\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1246\n */\nconst lockBodyScroll = () => {\n  const container = dom.getContainer()\n  let preventTouchMove\n  container.ontouchstart = (e) => {\n    preventTouchMove = shouldPreventTouchMove(e)\n  }\n  container.ontouchmove = (e) => {\n    if (preventTouchMove) {\n      e.preventDefault()\n      e.stopPropagation()\n    }\n  }\n}\n\nconst shouldPreventTouchMove = (event) => {\n  const target = event.target\n  const container = dom.getContainer()\n  if (isStylus(event) || isZoom(event)) {\n    return false\n  }\n  if (target === container) {\n    return true\n  }\n  if (\n    !dom.isScrollable(container) &&\n    target.tagName !== 'INPUT' && // #1603\n    target.tagName !== 'TEXTAREA' && // #2266\n    !(\n      dom.isScrollable(dom.getHtmlContainer()) && // #1944\n      dom.getHtmlContainer().contains(target)\n    )\n  ) {\n    return true\n  }\n  return false\n}\n\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1786\n *\n * @param {*} event\n * @returns {boolean}\n */\nconst isStylus = (event) => {\n  return event.touches && event.touches.length && event.touches[0].touchType === 'stylus'\n}\n\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1891\n *\n * @param {TouchEvent} event\n * @returns {boolean}\n */\nconst isZoom = (event) => {\n  return event.touches && event.touches.length > 1\n}\n\nexport const undoIOSfix = () => {\n  if (dom.hasClass(document.body, swalClasses.iosfix)) {\n    const offset = parseInt(document.body.style.top, 10)\n    dom.removeClass(document.body, swalClasses.iosfix)\n    document.body.style.top = ''\n    document.body.scrollTop = offset * -1\n  }\n}\n"]},"metadata":{},"sourceType":"module"}