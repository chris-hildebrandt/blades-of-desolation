{"ast":null,"code":"import { reactive } from \"@vue/reactivity\";\nimport $store from '@/store/index.js';\nimport { characterService } from \"@/services/CharacterService\";\nimport { computed, onMounted } from \"@vue/runtime-core\";\nimport CombatCharacter from \"@/components/CombatCharacter.vue\";\nimport { useToast } from \"vue-toastification\";\nimport Notify from \"@/utils/Notify\";\nimport $ from 'jquery';\nimport { Item } from \"@/models/Item\";\nimport { setItem, getItem } from \"../utils/tempLocalStorage.js\";\nexport default {\n  components: {\n    CombatCharacter\n  },\n  name: 'CharacterForm',\n\n  setup() {\n    onMounted(() => {\n      state.cheated = getItem('cheated');\n    });\n    const state = reactive({\n      classList: [{\n        name: 'Barbarian',\n        icon: '<i class=\"fal fa-axe-battle icon-fluid\"></i>'\n      }, {\n        name: 'Bard',\n        icon: '<i class=\"fal fa-mandolin icon-fluid\"></i>'\n      }, {\n        name: 'Cleric',\n        icon: '<i class=\"far fa-plus-octagon icon-fluid\"></i>'\n      }, {\n        name: 'Fighter',\n        icon: '<i class=\"fal fa-swords icon-fluid\"></i>'\n      }, {\n        name: 'Monk',\n        icon: '<i class=\"fal fa-fist-raised icon-fluid\"></i>'\n      }, {\n        name: 'Paladin',\n        icon: '<i class=\"far fa-helmet-battle icon-fluid\"></i>'\n      }, {\n        name: 'Ranger',\n        icon: '<i class=\"far fa-bow-arrow icon-fluid\"></i>'\n      }, {\n        name: 'Rogue',\n        icon: '<i class=\"far fa-dagger icon-fluid\"></i>'\n      }, {\n        name: 'Warlock',\n        icon: '<i class=\"fas fa-skull icon-fluid\"></i>'\n      }, {\n        name: 'Wizard',\n        icon: '<i class=\"fal fa-hat-wizard icon-fluid\"></i>'\n      }],\n      raceList: [{\n        name: 'dragonborn',\n        icon: '<i class=\"fas fa-dragon icon-fluid\"></i>'\n      }, {\n        name: 'dwarf',\n        icon: '<i class=\"fas fa-hammer-war icon-fluid\"></i>'\n      }, {\n        name: 'elf',\n        icon: '<i class=\"fas fa-leaf icon-fluid\"></i>'\n      }, {\n        name: 'halfling',\n        icon: '<i class=\"fas fa-child icon-fluid\"></i>'\n      }, {\n        name: 'human',\n        icon: '<i class=\"fas fa-user-alt icon-fluid\"></i>'\n      }],\n      name: '',\n      selectedClassType: '',\n      selectedRace: '',\n      selectedImg: '',\n      imgs: computed(() => $store.state.characterImgList),\n      characterCount: computed(() => $store.state.player.characters.length),\n      characters: computed(() => $store.state.player.characters),\n      selectedCharacter: '',\n      bgImg: computed(() => $store.state.locationImgList.find(l => l.includes('create-bg'))),\n      cheated: false\n    });\n    return state;\n  },\n\n  methods: {\n    createCharacter() {\n      const toast = useToast();\n      let charData = {\n        name: this.name,\n        classType: this.selectedClassType.toLowerCase(),\n        race: this.selectedRace,\n        img: this.selectedImg,\n        actions: 6,\n        dodge: 0,\n        hp: 5,\n        luck: 0,\n        strength: 0,\n        magic: 0,\n        thorns: 0,\n        lifeSteal: 0,\n        physicalResistance: 0,\n        magicResistance: 0\n      };\n\n      if ($store.state.player.characters.find(c => c.name == this.name)) {\n        toast.warning('Too confusing to have two members with the same name, lets give you a nickname...', {\n          timeout: 5000\n        });\n        this.name = '';\n        $('#name').focus();\n        return;\n      }\n\n      characterService.createCharacter(charData);\n      toast.success(charData.name + ' has joined your party!');\n      this.name = '';\n      this.classType = '';\n      this.race = '';\n      this.selectedImg = '';\n    },\n\n    selectImg(img) {\n      this.selectedImg = img;\n    },\n\n    selectClassType(classType) {\n      this.selectedClassType = classType;\n    },\n\n    selectCharacter(character) {\n      this.selectedCharacter = character;\n    },\n\n    selectRace(race) {\n      this.selectedRace = race;\n    },\n\n    async cheat() {\n      let cheat = await Notify.cheat();\n\n      if (cheat == 'easy') {\n        $store.state.player.options.difficulty = cheat;\n      }\n\n      if (this.cheated) {\n        return;\n      }\n\n      const toast = useToast();\n      let item = $store.state.items.find(i => i.name == cheat);\n\n      if (!item) {\n        return;\n      }\n\n      $store.state.player.items.push(new Item(item));\n      $store.state.player.gold -= item.price;\n      toast.success('You got a ' + item.name + '! cheater');\n      setItem('cheated', true, 1000 * 60 * 60 * 24);\n      this.cheated = getItem('cheated');\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["reactive","$store","characterService","computed","onMounted","CombatCharacter","useToast","Notify","$","Item","setItem","getItem","components","name","setup","state","cheated","classList","icon","raceList","selectedClassType","selectedRace","selectedImg","imgs","characterImgList","characterCount","player","characters","length","selectedCharacter","bgImg","locationImgList","find","l","includes","methods","createCharacter","toast","charData","classType","toLowerCase","race","img","actions","dodge","hp","luck","strength","magic","thorns","lifeSteal","physicalResistance","magicResistance","c","warning","timeout","focus","success","selectImg","selectClassType","selectCharacter","character","selectRace","cheat","options","difficulty","item","items","i","push","gold","price"],"sourceRoot":"","sources":["C:\\Users\\dhild\\source\\mini-projects\\blades-of-desolation\\src\\views\\CharacterForm.vue"],"sourcesContent":["<template>\r\n<div class=\"container-fluid bg-img\" :style=\"'background-image: url('+bgImg+')'\">\r\n  <i class=\"fal fa-alicorn position-absolute left text-dark\" @click=\"cheat\" v-if=\"!cheated\"></i>\r\n  <h5 class=\"font-weight-bold text-black label w-title-auto m-auto\">{{ characterCount < 6 ? \"Create Your Character\" : \"Your Party\"}}</h5>\r\n  <div class=\"row justify-content-center\">\r\n    <div class=\"col-10 col-md-8\">\r\n      <form @submit.prevent=\"createCharacter\" v-if=\"characterCount < 6\">\r\n        <div class=\"form-group mt-3\">\r\n          <input type=\"text\" class=\"form-control\" id=\"name\" placeholder=\"Name\" v-model=\"name\">\r\n        </div>\r\n         <label class=\"label px-2\">Choose a Class</label>\r\n        <div id=\"classType\" class=\"scrollable row\">\r\n          <span class=\"col click d-flex justify-content-center p-3\" :class=\"selectedClassType == classType.name ? 'border border-warning ' : ''\" :value=\"classType.name\" v-for=\"classType in classList\" :key=\"classType.name\" @click=\"selectClassType(classType.name)\" :title=\"classType.name\" v-html=\"classType.icon\"></span>\r\n        </div>\r\n         <label class=\"label px-2 mt-2\">Choose a Race</label>\r\n        <div id=\"race\" class=\"scrollable row\">\r\n          <span class=\"col click d-flex justify-content-center p-3\" :class=\"selectedRace == race.name ? 'border border-warning ' : ''\" :value=\"race.name\" v-for=\"race in raceList\" :key=\"race.name\" @click=\"selectRace(race.name)\" :title=\"race.name\" v-html=\"race.icon\"></span>\r\n        </div>\r\n        <div id=\"imgSelect\" class=\"scrollable row mt-3\">\r\n          <img class=\"img-fluid col-lg-3 col-md-6 col-12 click \" :class=\"selectedImg == img ? 'border border-warning ' : ''\" :value=\"img\" v-for=\"img in imgs\" :key=\"img\" @click=\"selectImg(img)\" :src=\"img\" :alt=\"img\" />\r\n        </div>\r\n        <button class=\"btn btn-warning btn-block mt-2\" type=\"submit\" title=\"create\"><i class=\"fas fa-torah\"></i></button>\r\n      </form>\r\n      <div class=\"row\" v-else>\r\n        <div class=\"col-4 click\" v-for=\"character in characters\" :key=\"character.id\" data-toggle=\"modal\" data-target=\"#characterDetailsModal\" title=\"stats\">\r\n          <CombatCharacter :character=\"character\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from \"@vue/reactivity\"\r\nimport $store from '@/store/index.js'\r\nimport { characterService } from \"@/services/CharacterService\"\r\nimport { computed, onMounted } from \"@vue/runtime-core\"\r\nimport CombatCharacter from \"@/components/CombatCharacter.vue\"\r\nimport { useToast } from \"vue-toastification\"\r\nimport Notify from \"@/utils/Notify\"\r\nimport $ from 'jquery'\r\nimport { Item } from \"@/models/Item\"\r\nimport { setItem, getItem } from \"../utils/tempLocalStorage.js\"\r\n\r\nexport default {\r\n  components: { CombatCharacter },\r\n  name: 'CharacterForm',\r\n  setup(){\r\n    onMounted(()=>{\r\n      state.cheated = getItem('cheated')\r\n    })\r\n    const state = reactive({\r\n      classList: [{name: 'Barbarian', icon: '<i class=\"fal fa-axe-battle icon-fluid\"></i>'}, {name: 'Bard', icon: '<i class=\"fal fa-mandolin icon-fluid\"></i>'}, {name: 'Cleric', icon: '<i class=\"far fa-plus-octagon icon-fluid\"></i>'}, {name: 'Fighter', icon: '<i class=\"fal fa-swords icon-fluid\"></i>'}, {name: 'Monk', icon: '<i class=\"fal fa-fist-raised icon-fluid\"></i>'}, {name: 'Paladin', icon: '<i class=\"far fa-helmet-battle icon-fluid\"></i>'}, {name: 'Ranger', icon: '<i class=\"far fa-bow-arrow icon-fluid\"></i>'}, {name: 'Rogue', icon: '<i class=\"far fa-dagger icon-fluid\"></i>'}, {name: 'Warlock', icon: '<i class=\"fas fa-skull icon-fluid\"></i>'}, {name: 'Wizard', icon: '<i class=\"fal fa-hat-wizard icon-fluid\"></i>'}],\r\n      raceList: [{name: 'dragonborn', icon: '<i class=\"fas fa-dragon icon-fluid\"></i>'}, {name: 'dwarf', icon: '<i class=\"fas fa-hammer-war icon-fluid\"></i>'}, {name: 'elf', icon: '<i class=\"fas fa-leaf icon-fluid\"></i>'}, {name: 'halfling', icon: '<i class=\"fas fa-child icon-fluid\"></i>'}, {name: 'human', icon: '<i class=\"fas fa-user-alt icon-fluid\"></i>'}],\r\n      name: '',\r\n      selectedClassType: '',\r\n      selectedRace: '',\r\n      selectedImg: '',\r\n      imgs: computed(() => $store.state.characterImgList),\r\n      characterCount: computed(()=> $store.state.player.characters.length),\r\n      characters: computed(()=>$store.state.player.characters),\r\n      selectedCharacter: '',\r\n      bgImg: computed(()=> $store.state.locationImgList.find(l => l.includes('create-bg'))),\r\n      cheated: false\r\n    })\r\n    return state\r\n  },\r\n  methods: {\r\n    createCharacter(){\r\n      const toast = useToast()\r\n      let charData = {name: this.name, classType: this.selectedClassType.toLowerCase(), race: this.selectedRace, img: this.selectedImg, actions: 6, dodge: 0, hp: 5, luck: 0, strength: 0, magic: 0, thorns: 0, lifeSteal: 0, physicalResistance: 0, magicResistance: 0}\r\n      if($store.state.player.characters.find(c => c.name == this.name)){\r\n        toast.warning('Too confusing to have two members with the same name, lets give you a nickname...', {timeout: 5000})\r\n        this.name = ''\r\n        $('#name').focus()\r\n        return\r\n      }\r\n      characterService.createCharacter(charData)\r\n      toast.success(charData.name+' has joined your party!')\r\n      this.name = ''\r\n      this.classType = ''\r\n      this.race = ''\r\n      this.selectedImg = ''\r\n    },\r\n    selectImg(img){\r\n        this.selectedImg = img\r\n    },\r\n    selectClassType(classType){\r\n      this.selectedClassType = classType\r\n    },\r\n    selectCharacter(character){\r\n      this.selectedCharacter = character\r\n    },\r\n    selectRace(race){\r\n      this.selectedRace = race\r\n    },\r\n    async cheat(){\r\n      let cheat = await Notify.cheat()\r\n      if(cheat == 'easy'){\r\n        $store.state.player.options.difficulty = cheat\r\n      }\r\n      if(this.cheated){return}\r\n      const toast = useToast()\r\n      let item = $store.state.items.find(i => i.name == cheat)\r\n      if(!item){return}\r\n      $store.state.player.items.push(new Item(item))\r\n      $store.state.player.gold -= item.price\r\n      toast.success('You got a '+item.name+'! cheater')\r\n      setItem('cheated', true, 1000*60*60*24)\r\n      this.cheated = getItem('cheated')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.scrollable{\r\n  max-height: 56vh;\r\n  overflow-y: auto;\r\n  backdrop-filter: brightness(0.5);\r\n}\r\n.text-black{\r\n  color: #000;\r\n}\r\n.left{\r\n  left: 97vw\r\n}\r\n.label{\r\n  backdrop-filter: brightness(.5);\r\n}\r\n.icon-fluid{\r\n  font-size: 6vh;\r\n}\r\n@media screen and (min-width: 992px) {\r\n  .w-title-auto{\r\n    width: 25vw;\r\n}\r\n}\r\n@media screen and (max-width: 992px) {\r\n  .w-title-auto{\r\n    width: 90vw;\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}