{"ast":null,"code":"import { swalClasses } from '../classes.js';\nimport { getContainer, getPopup } from './getters.js';\nimport { addClass, getDirectChildByClass, removeClass, setInnerHtml } from './domUtils.js';\nimport { isNodeEnv } from '../isNodeEnv.js';\nimport { error } from '../utils.js';\nimport globalState from '../../globalState.js';\nconst sweetHTML = `\n <div aria-labelledby=\"${swalClasses.title}\" aria-describedby=\"${swalClasses['html-container']}\" class=\"${swalClasses.popup}\" tabindex=\"-1\">\n   <button type=\"button\" class=\"${swalClasses.close}\"></button>\n   <ul class=\"${swalClasses['progress-steps']}\"></ul>\n   <div class=\"${swalClasses.icon}\"></div>\n   <img class=\"${swalClasses.image}\" />\n   <h2 class=\"${swalClasses.title}\" id=\"${swalClasses.title}\"></h2>\n   <div class=\"${swalClasses['html-container']}\" id=\"${swalClasses['html-container']}\"></div>\n   <input class=\"${swalClasses.input}\" />\n   <input type=\"file\" class=\"${swalClasses.file}\" />\n   <div class=\"${swalClasses.range}\">\n     <input type=\"range\" />\n     <output></output>\n   </div>\n   <select class=\"${swalClasses.select}\"></select>\n   <div class=\"${swalClasses.radio}\"></div>\n   <label for=\"${swalClasses.checkbox}\" class=\"${swalClasses.checkbox}\">\n     <input type=\"checkbox\" />\n     <span class=\"${swalClasses.label}\"></span>\n   </label>\n   <textarea class=\"${swalClasses.textarea}\"></textarea>\n   <div class=\"${swalClasses['validation-message']}\" id=\"${swalClasses['validation-message']}\"></div>\n   <div class=\"${swalClasses.actions}\">\n     <div class=\"${swalClasses.loader}\"></div>\n     <button type=\"button\" class=\"${swalClasses.confirm}\"></button>\n     <button type=\"button\" class=\"${swalClasses.deny}\"></button>\n     <button type=\"button\" class=\"${swalClasses.cancel}\"></button>\n   </div>\n   <div class=\"${swalClasses.footer}\"></div>\n   <div class=\"${swalClasses['timer-progress-bar-container']}\">\n     <div class=\"${swalClasses['timer-progress-bar']}\"></div>\n   </div>\n </div>\n`.replace(/(^|\\n)\\s*/g, '');\n\nconst resetOldContainer = () => {\n  const oldContainer = getContainer();\n\n  if (!oldContainer) {\n    return false;\n  }\n\n  oldContainer.remove();\n  removeClass([document.documentElement, document.body], [swalClasses['no-backdrop'], swalClasses['toast-shown'], swalClasses['has-column']]);\n  return true;\n};\n\nconst resetValidationMessage = () => {\n  globalState.currentInstance.resetValidationMessage();\n};\n\nconst addInputChangeListeners = () => {\n  const popup = getPopup();\n  const input = getDirectChildByClass(popup, swalClasses.input);\n  const file = getDirectChildByClass(popup, swalClasses.file);\n  const range = popup.querySelector(`.${swalClasses.range} input`);\n  const rangeOutput = popup.querySelector(`.${swalClasses.range} output`);\n  const select = getDirectChildByClass(popup, swalClasses.select);\n  const checkbox = popup.querySelector(`.${swalClasses.checkbox} input`);\n  const textarea = getDirectChildByClass(popup, swalClasses.textarea);\n  input.oninput = resetValidationMessage;\n  file.onchange = resetValidationMessage;\n  select.onchange = resetValidationMessage;\n  checkbox.onchange = resetValidationMessage;\n  textarea.oninput = resetValidationMessage;\n\n  range.oninput = () => {\n    resetValidationMessage();\n    rangeOutput.value = range.value;\n  };\n\n  range.onchange = () => {\n    resetValidationMessage();\n    range.nextSibling.value = range.value;\n  };\n};\n\nconst getTarget = target => typeof target === 'string' ? document.querySelector(target) : target;\n\nconst setupAccessibility = params => {\n  const popup = getPopup();\n  popup.setAttribute('role', params.toast ? 'alert' : 'dialog');\n  popup.setAttribute('aria-live', params.toast ? 'polite' : 'assertive');\n\n  if (!params.toast) {\n    popup.setAttribute('aria-modal', 'true');\n  }\n};\n\nconst setupRTL = targetElement => {\n  if (window.getComputedStyle(targetElement).direction === 'rtl') {\n    addClass(getContainer(), swalClasses.rtl);\n  }\n};\n/*\n * Add modal + backdrop to DOM\n */\n\n\nexport const init = params => {\n  // Clean up the old popup container if it exists\n  const oldContainerExisted = resetOldContainer();\n  /* istanbul ignore if */\n\n  if (isNodeEnv()) {\n    error('SweetAlert2 requires document to initialize');\n    return;\n  }\n\n  const container = document.createElement('div');\n  container.className = swalClasses.container;\n\n  if (oldContainerExisted) {\n    addClass(container, swalClasses['no-transition']);\n  }\n\n  setInnerHtml(container, sweetHTML);\n  const targetElement = getTarget(params.target);\n  targetElement.appendChild(container);\n  setupAccessibility(params);\n  setupRTL(targetElement);\n  addInputChangeListeners();\n};","map":{"version":3,"sources":["C:/Users/dhild/source/mini-projects/blades-of-desolation/node_modules/sweetalert2/src/utils/dom/init.js"],"names":["swalClasses","getContainer","getPopup","addClass","getDirectChildByClass","removeClass","setInnerHtml","isNodeEnv","error","globalState","sweetHTML","title","popup","close","icon","image","input","file","range","select","radio","checkbox","label","textarea","actions","loader","confirm","deny","cancel","footer","replace","resetOldContainer","oldContainer","remove","document","documentElement","body","resetValidationMessage","currentInstance","addInputChangeListeners","querySelector","rangeOutput","oninput","onchange","value","nextSibling","getTarget","target","setupAccessibility","params","setAttribute","toast","setupRTL","targetElement","window","getComputedStyle","direction","rtl","init","oldContainerExisted","container","createElement","className","appendChild"],"mappings":"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","sourcesContent":["import { swalClasses } from '../classes.js'\nimport { getContainer, getPopup } from './getters.js'\nimport { addClass, getDirectChildByClass, removeClass, setInnerHtml } from './domUtils.js'\nimport { isNodeEnv } from '../isNodeEnv.js'\nimport { error } from '../utils.js'\nimport globalState from '../../globalState.js'\n\nconst sweetHTML = `\n <div aria-labelledby=\"${swalClasses.title}\" aria-describedby=\"${swalClasses['html-container']}\" class=\"${swalClasses.popup}\" tabindex=\"-1\">\n   <button type=\"button\" class=\"${swalClasses.close}\"></button>\n   <ul class=\"${swalClasses['progress-steps']}\"></ul>\n   <div class=\"${swalClasses.icon}\"></div>\n   <img class=\"${swalClasses.image}\" />\n   <h2 class=\"${swalClasses.title}\" id=\"${swalClasses.title}\"></h2>\n   <div class=\"${swalClasses['html-container']}\" id=\"${swalClasses['html-container']}\"></div>\n   <input class=\"${swalClasses.input}\" />\n   <input type=\"file\" class=\"${swalClasses.file}\" />\n   <div class=\"${swalClasses.range}\">\n     <input type=\"range\" />\n     <output></output>\n   </div>\n   <select class=\"${swalClasses.select}\"></select>\n   <div class=\"${swalClasses.radio}\"></div>\n   <label for=\"${swalClasses.checkbox}\" class=\"${swalClasses.checkbox}\">\n     <input type=\"checkbox\" />\n     <span class=\"${swalClasses.label}\"></span>\n   </label>\n   <textarea class=\"${swalClasses.textarea}\"></textarea>\n   <div class=\"${swalClasses['validation-message']}\" id=\"${swalClasses['validation-message']}\"></div>\n   <div class=\"${swalClasses.actions}\">\n     <div class=\"${swalClasses.loader}\"></div>\n     <button type=\"button\" class=\"${swalClasses.confirm}\"></button>\n     <button type=\"button\" class=\"${swalClasses.deny}\"></button>\n     <button type=\"button\" class=\"${swalClasses.cancel}\"></button>\n   </div>\n   <div class=\"${swalClasses.footer}\"></div>\n   <div class=\"${swalClasses['timer-progress-bar-container']}\">\n     <div class=\"${swalClasses['timer-progress-bar']}\"></div>\n   </div>\n </div>\n`.replace(/(^|\\n)\\s*/g, '')\n\nconst resetOldContainer = () => {\n  const oldContainer = getContainer()\n  if (!oldContainer) {\n    return false\n  }\n\n  oldContainer.remove()\n  removeClass(\n    [document.documentElement, document.body],\n    [swalClasses['no-backdrop'], swalClasses['toast-shown'], swalClasses['has-column']]\n  )\n\n  return true\n}\n\nconst resetValidationMessage = () => {\n  globalState.currentInstance.resetValidationMessage()\n}\n\nconst addInputChangeListeners = () => {\n  const popup = getPopup()\n\n  const input = getDirectChildByClass(popup, swalClasses.input)\n  const file = getDirectChildByClass(popup, swalClasses.file)\n  const range = popup.querySelector(`.${swalClasses.range} input`)\n  const rangeOutput = popup.querySelector(`.${swalClasses.range} output`)\n  const select = getDirectChildByClass(popup, swalClasses.select)\n  const checkbox = popup.querySelector(`.${swalClasses.checkbox} input`)\n  const textarea = getDirectChildByClass(popup, swalClasses.textarea)\n\n  input.oninput = resetValidationMessage\n  file.onchange = resetValidationMessage\n  select.onchange = resetValidationMessage\n  checkbox.onchange = resetValidationMessage\n  textarea.oninput = resetValidationMessage\n\n  range.oninput = () => {\n    resetValidationMessage()\n    rangeOutput.value = range.value\n  }\n\n  range.onchange = () => {\n    resetValidationMessage()\n    range.nextSibling.value = range.value\n  }\n}\n\nconst getTarget = (target) => (typeof target === 'string' ? document.querySelector(target) : target)\n\nconst setupAccessibility = (params) => {\n  const popup = getPopup()\n\n  popup.setAttribute('role', params.toast ? 'alert' : 'dialog')\n  popup.setAttribute('aria-live', params.toast ? 'polite' : 'assertive')\n  if (!params.toast) {\n    popup.setAttribute('aria-modal', 'true')\n  }\n}\n\nconst setupRTL = (targetElement) => {\n  if (window.getComputedStyle(targetElement).direction === 'rtl') {\n    addClass(getContainer(), swalClasses.rtl)\n  }\n}\n\n/*\n * Add modal + backdrop to DOM\n */\nexport const init = (params) => {\n  // Clean up the old popup container if it exists\n  const oldContainerExisted = resetOldContainer()\n\n  /* istanbul ignore if */\n  if (isNodeEnv()) {\n    error('SweetAlert2 requires document to initialize')\n    return\n  }\n\n  const container = document.createElement('div')\n  container.className = swalClasses.container\n  if (oldContainerExisted) {\n    addClass(container, swalClasses['no-transition'])\n  }\n  setInnerHtml(container, sweetHTML)\n\n  const targetElement = getTarget(params.target)\n  targetElement.appendChild(container)\n\n  setupAccessibility(params)\n  setupRTL(targetElement)\n  addInputChangeListeners()\n}\n"]},"metadata":{},"sourceType":"module"}