{"ast":null,"code":"import { swalClasses } from '../classes.js';\nimport { toArray, uniqueArray } from '../utils.js';\nimport { hasClass, isVisible } from './domUtils.js';\n/**\n * Gets the popup container which contains the backdrop and the popup itself.\n *\n * @returns {HTMLElement | null}\n */\n\nexport const getContainer = () => document.body.querySelector(`.${swalClasses.container}`);\nexport const elementBySelector = selectorString => {\n  const container = getContainer();\n  return container ? container.querySelector(selectorString) : null;\n};\n\nconst elementByClass = className => {\n  return elementBySelector(`.${className}`);\n};\n\nexport const getPopup = () => elementByClass(swalClasses.popup);\nexport const getIcon = () => elementByClass(swalClasses.icon);\nexport const getTitle = () => elementByClass(swalClasses.title);\nexport const getHtmlContainer = () => elementByClass(swalClasses['html-container']);\nexport const getImage = () => elementByClass(swalClasses.image);\nexport const getProgressSteps = () => elementByClass(swalClasses['progress-steps']);\nexport const getValidationMessage = () => elementByClass(swalClasses['validation-message']);\nexport const getConfirmButton = () => elementBySelector(`.${swalClasses.actions} .${swalClasses.confirm}`);\nexport const getDenyButton = () => elementBySelector(`.${swalClasses.actions} .${swalClasses.deny}`);\nexport const getInputLabel = () => elementByClass(swalClasses['input-label']);\nexport const getLoader = () => elementBySelector(`.${swalClasses.loader}`);\nexport const getCancelButton = () => elementBySelector(`.${swalClasses.actions} .${swalClasses.cancel}`);\nexport const getActions = () => elementByClass(swalClasses.actions);\nexport const getFooter = () => elementByClass(swalClasses.footer);\nexport const getTimerProgressBar = () => elementByClass(swalClasses['timer-progress-bar']);\nexport const getCloseButton = () => elementByClass(swalClasses.close); // https://github.com/jkup/focusable/blob/master/index.js\n\nconst focusable = `\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex=\"0\"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n`;\nexport const getFocusableElements = () => {\n  const focusableElementsWithTabindex = toArray(getPopup().querySelectorAll('[tabindex]:not([tabindex=\"-1\"]):not([tabindex=\"0\"])')) // sort according to tabindex\n  .sort((a, b) => {\n    const tabindexA = parseInt(a.getAttribute('tabindex'));\n    const tabindexB = parseInt(b.getAttribute('tabindex'));\n\n    if (tabindexA > tabindexB) {\n      return 1;\n    } else if (tabindexA < tabindexB) {\n      return -1;\n    }\n\n    return 0;\n  });\n  const otherFocusableElements = toArray(getPopup().querySelectorAll(focusable)).filter(el => el.getAttribute('tabindex') !== '-1');\n  return uniqueArray(focusableElementsWithTabindex.concat(otherFocusableElements)).filter(el => isVisible(el));\n};\nexport const isModal = () => {\n  return hasClass(document.body, swalClasses.shown) && !hasClass(document.body, swalClasses['toast-shown']) && !hasClass(document.body, swalClasses['no-backdrop']);\n};\nexport const isToast = () => {\n  return getPopup() && hasClass(getPopup(), swalClasses.toast);\n};\nexport const isLoading = () => {\n  return getPopup().hasAttribute('data-loading');\n};","map":{"version":3,"sources":["C:/Users/dhild/source/mini-projects/blades-of-desolation/node_modules/sweetalert2/src/utils/dom/getters.js"],"names":["swalClasses","toArray","uniqueArray","hasClass","isVisible","getContainer","document","body","querySelector","container","elementBySelector","selectorString","elementByClass","className","getPopup","popup","getIcon","icon","getTitle","title","getHtmlContainer","getImage","image","getProgressSteps","getValidationMessage","getConfirmButton","actions","confirm","getDenyButton","deny","getInputLabel","getLoader","loader","getCancelButton","cancel","getActions","getFooter","footer","getTimerProgressBar","getCloseButton","close","focusable","getFocusableElements","focusableElementsWithTabindex","querySelectorAll","sort","a","b","tabindexA","parseInt","getAttribute","tabindexB","otherFocusableElements","filter","el","concat","isModal","shown","isToast","toast","isLoading","hasAttribute"],"mappings":"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","sourcesContent":["import { swalClasses } from '../classes.js'\nimport { toArray, uniqueArray } from '../utils.js'\nimport { hasClass, isVisible } from './domUtils.js'\n\n/**\n * Gets the popup container which contains the backdrop and the popup itself.\n *\n * @returns {HTMLElement | null}\n */\nexport const getContainer = () => document.body.querySelector(`.${swalClasses.container}`)\n\nexport const elementBySelector = (selectorString) => {\n  const container = getContainer()\n  return container ? container.querySelector(selectorString) : null\n}\n\nconst elementByClass = (className) => {\n  return elementBySelector(`.${className}`)\n}\n\nexport const getPopup = () => elementByClass(swalClasses.popup)\n\nexport const getIcon = () => elementByClass(swalClasses.icon)\n\nexport const getTitle = () => elementByClass(swalClasses.title)\n\nexport const getHtmlContainer = () => elementByClass(swalClasses['html-container'])\n\nexport const getImage = () => elementByClass(swalClasses.image)\n\nexport const getProgressSteps = () => elementByClass(swalClasses['progress-steps'])\n\nexport const getValidationMessage = () => elementByClass(swalClasses['validation-message'])\n\nexport const getConfirmButton = () => elementBySelector(`.${swalClasses.actions} .${swalClasses.confirm}`)\n\nexport const getDenyButton = () => elementBySelector(`.${swalClasses.actions} .${swalClasses.deny}`)\n\nexport const getInputLabel = () => elementByClass(swalClasses['input-label'])\n\nexport const getLoader = () => elementBySelector(`.${swalClasses.loader}`)\n\nexport const getCancelButton = () => elementBySelector(`.${swalClasses.actions} .${swalClasses.cancel}`)\n\nexport const getActions = () => elementByClass(swalClasses.actions)\n\nexport const getFooter = () => elementByClass(swalClasses.footer)\n\nexport const getTimerProgressBar = () => elementByClass(swalClasses['timer-progress-bar'])\n\nexport const getCloseButton = () => elementByClass(swalClasses.close)\n\n// https://github.com/jkup/focusable/blob/master/index.js\nconst focusable = `\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex=\"0\"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n`\n\nexport const getFocusableElements = () => {\n  const focusableElementsWithTabindex = toArray(\n    getPopup().querySelectorAll('[tabindex]:not([tabindex=\"-1\"]):not([tabindex=\"0\"])')\n  )\n    // sort according to tabindex\n    .sort((a, b) => {\n      const tabindexA = parseInt(a.getAttribute('tabindex'))\n      const tabindexB = parseInt(b.getAttribute('tabindex'))\n      if (tabindexA > tabindexB) {\n        return 1\n      } else if (tabindexA < tabindexB) {\n        return -1\n      }\n      return 0\n    })\n\n  const otherFocusableElements = toArray(getPopup().querySelectorAll(focusable)).filter(\n    (el) => el.getAttribute('tabindex') !== '-1'\n  )\n\n  return uniqueArray(focusableElementsWithTabindex.concat(otherFocusableElements)).filter((el) => isVisible(el))\n}\n\nexport const isModal = () => {\n  return (\n    hasClass(document.body, swalClasses.shown) &&\n    !hasClass(document.body, swalClasses['toast-shown']) &&\n    !hasClass(document.body, swalClasses['no-backdrop'])\n  )\n}\n\nexport const isToast = () => {\n  return getPopup() && hasClass(getPopup(), swalClasses.toast)\n}\n\nexport const isLoading = () => {\n  return getPopup().hasAttribute('data-loading')\n}\n"]},"metadata":{},"sourceType":"module"}