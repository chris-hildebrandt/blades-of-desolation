{"ast":null,"code":"import { callIfFunction } from './utils/utils.js';\nimport { DismissReason } from './utils/DismissReason.js';\nimport privateProps from './privateProps.js';\nexport const handlePopupClick = (instance, domCache, dismissWith) => {\n  const innerParams = privateProps.innerParams.get(instance);\n\n  if (innerParams.toast) {\n    handleToastClick(instance, domCache, dismissWith);\n  } else {\n    // Ignore click events that had mousedown on the popup but mouseup on the container\n    // This can happen when the user drags a slider\n    handleModalMousedown(domCache); // Ignore click events that had mousedown on the container but mouseup on the popup\n\n    handleContainerMousedown(domCache);\n    handleModalClick(instance, domCache, dismissWith);\n  }\n};\n\nconst handleToastClick = (instance, domCache, dismissWith) => {\n  // Closing toast by internal click\n  domCache.popup.onclick = () => {\n    const innerParams = privateProps.innerParams.get(instance);\n\n    if (innerParams && (isAnyButtonShown(innerParams) || innerParams.timer || innerParams.input)) {\n      return;\n    }\n\n    dismissWith(DismissReason.close);\n  };\n};\n/**\n * @param {*} innerParams\n * @returns {boolean}\n */\n\n\nconst isAnyButtonShown = innerParams => {\n  return innerParams.showConfirmButton || innerParams.showDenyButton || innerParams.showCancelButton || innerParams.showCloseButton;\n};\n\nlet ignoreOutsideClick = false;\n\nconst handleModalMousedown = domCache => {\n  domCache.popup.onmousedown = () => {\n    domCache.container.onmouseup = function (e) {\n      domCache.container.onmouseup = undefined; // We only check if the mouseup target is the container because usually it doesn't\n      // have any other direct children aside of the popup\n\n      if (e.target === domCache.container) {\n        ignoreOutsideClick = true;\n      }\n    };\n  };\n};\n\nconst handleContainerMousedown = domCache => {\n  domCache.container.onmousedown = () => {\n    domCache.popup.onmouseup = function (e) {\n      domCache.popup.onmouseup = undefined; // We also need to check if the mouseup target is a child of the popup\n\n      if (e.target === domCache.popup || domCache.popup.contains(e.target)) {\n        ignoreOutsideClick = true;\n      }\n    };\n  };\n};\n\nconst handleModalClick = (instance, domCache, dismissWith) => {\n  domCache.container.onclick = e => {\n    const innerParams = privateProps.innerParams.get(instance);\n\n    if (ignoreOutsideClick) {\n      ignoreOutsideClick = false;\n      return;\n    }\n\n    if (e.target === domCache.container && callIfFunction(innerParams.allowOutsideClick)) {\n      dismissWith(DismissReason.backdrop);\n    }\n  };\n};","map":{"version":3,"sources":["C:/Users/dhild/source/mini-projects/blades-of-desolation/node_modules/sweetalert2/src/popup-click-handler.js"],"names":["callIfFunction","DismissReason","privateProps","handlePopupClick","instance","domCache","dismissWith","innerParams","get","toast","handleToastClick","handleModalMousedown","handleContainerMousedown","handleModalClick","popup","onclick","isAnyButtonShown","timer","input","close","showConfirmButton","showDenyButton","showCancelButton","showCloseButton","ignoreOutsideClick","onmousedown","container","onmouseup","e","undefined","target","contains","allowOutsideClick","backdrop"],"mappings":"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","sourcesContent":["import { callIfFunction } from './utils/utils.js'\nimport { DismissReason } from './utils/DismissReason.js'\nimport privateProps from './privateProps.js'\n\nexport const handlePopupClick = (instance, domCache, dismissWith) => {\n  const innerParams = privateProps.innerParams.get(instance)\n  if (innerParams.toast) {\n    handleToastClick(instance, domCache, dismissWith)\n  } else {\n    // Ignore click events that had mousedown on the popup but mouseup on the container\n    // This can happen when the user drags a slider\n    handleModalMousedown(domCache)\n\n    // Ignore click events that had mousedown on the container but mouseup on the popup\n    handleContainerMousedown(domCache)\n\n    handleModalClick(instance, domCache, dismissWith)\n  }\n}\n\nconst handleToastClick = (instance, domCache, dismissWith) => {\n  // Closing toast by internal click\n  domCache.popup.onclick = () => {\n    const innerParams = privateProps.innerParams.get(instance)\n    if (innerParams && (isAnyButtonShown(innerParams) || innerParams.timer || innerParams.input)) {\n      return\n    }\n    dismissWith(DismissReason.close)\n  }\n}\n\n/**\n * @param {*} innerParams\n * @returns {boolean}\n */\nconst isAnyButtonShown = (innerParams) => {\n  return (\n    innerParams.showConfirmButton ||\n    innerParams.showDenyButton ||\n    innerParams.showCancelButton ||\n    innerParams.showCloseButton\n  )\n}\n\nlet ignoreOutsideClick = false\n\nconst handleModalMousedown = (domCache) => {\n  domCache.popup.onmousedown = () => {\n    domCache.container.onmouseup = function (e) {\n      domCache.container.onmouseup = undefined\n      // We only check if the mouseup target is the container because usually it doesn't\n      // have any other direct children aside of the popup\n      if (e.target === domCache.container) {\n        ignoreOutsideClick = true\n      }\n    }\n  }\n}\n\nconst handleContainerMousedown = (domCache) => {\n  domCache.container.onmousedown = () => {\n    domCache.popup.onmouseup = function (e) {\n      domCache.popup.onmouseup = undefined\n      // We also need to check if the mouseup target is a child of the popup\n      if (e.target === domCache.popup || domCache.popup.contains(e.target)) {\n        ignoreOutsideClick = true\n      }\n    }\n  }\n}\n\nconst handleModalClick = (instance, domCache, dismissWith) => {\n  domCache.container.onclick = (e) => {\n    const innerParams = privateProps.innerParams.get(instance)\n    if (ignoreOutsideClick) {\n      ignoreOutsideClick = false\n      return\n    }\n    if (e.target === domCache.container && callIfFunction(innerParams.allowOutsideClick)) {\n      dismissWith(DismissReason.backdrop)\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}