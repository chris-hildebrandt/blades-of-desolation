{"ast":null,"code":"import { reactive } from \"@vue/reactivity\";\nimport { computed } from \"@vue/runtime-core\";\nimport $store from '@/store/index.js';\nimport HpBar from \"./HpBar.vue\";\nexport default {\n  components: {\n    HpBar\n  },\n  name: 'CombatCharacter',\n  props: {\n    character: {\n      type: Object\n    }\n  },\n\n  setup(props) {\n    const state = reactive({\n      selected: computed(() => $store.state.selected),\n      hp: computed(() => props.character.hp),\n      deadImg: computed(() => $store.state.monsterImgList.find(m => m.includes('dead')))\n    });\n    return state;\n  },\n\n  methods: {\n    selectCharacter(character) {\n      if (character.actions > 0) {\n        this.$store.commit('selectCharacter', character);\n      }\n    },\n\n    dynamicClasses(character, selected) {\n      let classes = '';\n      classes += character.statusEffects.map(e => e.negative ? e.name : '').join(' ');\n      classes += selected?.id == character.id ? ' animate__animated animate__slow animate__pulse animate__infinite' : '';\n      return classes;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA6BA,SAASA,QAAT,QAAyB,iBAAzB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,eAAe;AACbC,YAAU,EAAE;AAAED;AAAF,GADC;AAEbE,MAAI,EAAE,iBAFO;AAGbC,OAAK,EAAE;AACLC,aAAS,EAAE;AAACC,UAAI,EAAEC;AAAP;AADN,GAHM;;AAMbC,OAAK,CAACJ,KAAD,EAAO;AACV,UAAMK,KAAI,GAAIX,QAAQ,CAAC;AACrBY,cAAQ,EAAEX,QAAQ,CAAC,MAAMC,MAAM,CAACS,KAAP,CAAaC,QAApB,CADG;AAErBC,QAAE,EAAEZ,QAAQ,CAAC,MAAMK,KAAK,CAACC,SAAN,CAAgBM,EAAvB,CAFS;AAGrBC,aAAO,EAAEb,QAAQ,CAAC,MAAIC,MAAM,CAACS,KAAP,CAAaI,cAAb,CAA4BC,IAA5B,CAAiCC,KAAKA,CAAC,CAACC,QAAF,CAAW,MAAX,CAAtC,CAAL;AAHI,KAAD,CAAtB;AAKA,WAAOP,KAAP;AACD,GAbY;;AAcbQ,SAAO,EAAE;AACPC,mBAAe,CAACb,SAAD,EAAW;AACxB,UAAGA,SAAS,CAACc,OAAV,GAAoB,CAAvB,EAAyB;AACvB,aAAKnB,MAAL,CAAYoB,MAAZ,CAAmB,iBAAnB,EAAsCf,SAAtC;AACF;AACD,KALM;;AAMPgB,kBAAc,CAAChB,SAAD,EAAYK,QAAZ,EAAqB;AACjC,UAAIY,OAAM,GAAI,EAAd;AACAA,aAAM,IAAKjB,SAAS,CAACkB,aAAV,CAAwBC,GAAxB,CAA4BC,KAAKA,CAAC,CAACC,QAAF,GAAaD,CAAC,CAACtB,IAAf,GAAsB,EAAvD,EAA2DwB,IAA3D,CAAgE,GAAhE,CAAX;AACAL,aAAM,IAAKZ,QAAQ,EAAEkB,EAAV,IAAgBvB,SAAS,CAACuB,EAA1B,GAA+B,mEAA/B,GAAqG,EAAhH;AACA,aAAON,OAAP;AACF;;AAXO;AAdI,CAAf","names":["reactive","computed","$store","HpBar","components","name","props","character","type","Object","setup","state","selected","hp","deadImg","monsterImgList","find","m","includes","methods","selectCharacter","actions","commit","dynamicClasses","classes","statusEffects","map","e","negative","join","id"],"sourceRoot":"","sources":["C:\\Users\\dhild\\source\\mini-projects\\blades-of-desolation\\src\\components\\CombatCharacter.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"character.hp < 0.1\">\r\n    <strong class=\"d-flex dead\" title=\"dead\">{{character.name}}</strong>\r\n     <img :id=\"'charImg'+character.id\" class=\"img-fluid w-75 events-none\" :src=\"deadImg\" @click=\"selectCharacter(character)\">\r\n  </div>\r\n  <div v-else>\r\n      <HpBar :hp=\"character.hp\" :baseHp=\"character.baseHp\" :selected=\"selected?.id == character.id\" />\r\n    <div class=\"position-absolute hit selectable\" :id=\"'hit'+character.id\"></div>\r\n    <strong class=\"d-flex text-light\" :class=\"character.actions < 1 ? 'text-danger' : ''\">\r\n      {{character.name}}\r\n    </strong>\r\n    <div>\r\n      <img :id=\"'charImg'+character.id\" :class=\"dynamicClasses(character, selected)\" class=\"img-fluid w-75 click \" :src=\"character.img\" @click=\"selectCharacter(character)\">\r\n    </div>\r\n    <div class=\"d-flex\">\r\n      <p class=\"border rounded-circle text-light h-25 w-25\" title=\"Strength\">\r\n        {{character.strength}}\r\n      </p>\r\n      <p class=\"border rounded-circle text-light h-25 w-25\" title=\"Actions\">\r\n        {{character.actions}}\r\n      </p>\r\n      <p class=\"border rounded-circle text-light h-25 w-25\" title=\"Magic\" v-if=\"character.magic\">\r\n        {{character.magic}}\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from \"@vue/reactivity\"\r\nimport { computed } from \"@vue/runtime-core\"\r\nimport $store from '@/store/index.js'\r\nimport HpBar from \"./HpBar.vue\"\r\nexport default {\r\n  components: { HpBar },\r\n  name: 'CombatCharacter',\r\n  props: {\r\n    character: {type: Object}\r\n  },\r\n  setup(props){\r\n    const state = reactive({\r\n      selected: computed(() => $store.state.selected),\r\n      hp: computed(() => props.character.hp),\r\n      deadImg: computed(()=>$store.state.monsterImgList.find(m => m.includes('dead'))),\r\n    })\r\n    return state\r\n  },\r\n  methods: {\r\n    selectCharacter(character){\r\n      if(character.actions > 0){\r\n        this.$store.commit('selectCharacter', character)\r\n      }\r\n    },\r\n    dynamicClasses(character, selected){\r\n      let classes = ''\r\n      classes += character.statusEffects.map(e => e.negative ? e.name : '').join(' ') \r\n      classes += selected?.id == character.id ? ' animate__animated animate__slow animate__pulse animate__infinite' : ''\r\n      return classes\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.selected{\r\n  border: green;\r\n}\r\n.exhausted{\r\n  color: yellow\r\n}\r\n.dead{\r\n  color: red;\r\n  cursor: not-allowed;\r\n}\r\nstrong{\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  width: auto;\r\n  display: block;\r\n  overflow: hidden\r\n}\r\n.hit{\r\n  left: 75%\r\n}\r\n.selectable{\r\n  filter: drop-shadow(0px 0px 15px gold);\r\n}\r\n.events-none{\r\n  pointer-events: none;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}